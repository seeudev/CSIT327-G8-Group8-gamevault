{% extends 'base.html' %}
{% load static %}

{% block title %}Manage Games - GameVault{% endblock %}

{% block content %}
<div class="admin-game-list-container">
    <h1>Manage Games</h1>
    
    <div class="admin-actions">
        <a href="{% url 'store:admin_dashboard' %}" class="button">Back to Dashboard</a>
        <a href="{% url 'store:admin_game_create' %}" class="button">Add New Game</a>
    </div>
    
    <table class="game-list-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Category</th>
                <th>Price</th>
                <th>Upload Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for game in games %}
                <tr>
                    <td>{{ game.id }}</td>
                    <td>{{ game.title }}</td>
                    <td>{{ game.category }}</td>
                    <td>${{ game.price }}</td>
                    <td>{{ game.upload_date|date:"M d, Y" }}</td>
                    <td>
                        <a href="{% url 'store:admin_game_edit' game.id %}" class="small-button">Edit</a>
                        <form method="post" action="{% url 'store:admin_game_delete' game.id %}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this game?');">
                            {% csrf_token %}
                            <button type="submit" class="small-button">Delete</button>
                        </form>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="6">No games found</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
